<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Star Catcher Ultimate Edition</title>
   <link rel="icon" href="data:image/jpeg;base64,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"  type="image/png">
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: radial-gradient(circle at top, #070736, #000);
      color: white;
      font-family: 'Segoe UI', sans-serif;
    }
    #hud {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 20px;
      font-weight: bold;
    }
    #gameOver {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      display: none;
      opacity: 0;
      transition: opacity 1s;
    }
    #gameOver h1 {
      font-size: 42px;
      margin-bottom: 10px;
    }
    #restartBtn {
      background: #00ff88;
      color: #000;
      padding: 10px 25px;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      cursor: pointer;
      transition: 0.3s;
    }
    #restartBtn:hover {
      background: #00ffaa;
      transform: scale(1.05);
    }
    canvas {
      display: block;
      margin: auto;
    }
  </style>
</head>
<body>
  <div id="hud">Score: 0 | Lives: 3 | Level: 1</div>
  <div id="gameOver">
    <h1>Game Over</h1>
    <p id="finalScore"></p>
    <button id="restartBtn">Restart</button>
  </div>
  <canvas id="gameCanvas" width="600" height="400"></canvas>
  <script >
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
const hud = document.getElementById("hud");
const gameOverScreen = document.getElementById("gameOver");
const finalScoreEl = document.getElementById("finalScore");
const restartBtn = document.getElementById("restartBtn");

// --- Game State ---
let score, lives, level, stars, particles, gameSpeed, spawnRate, gameRunning;

// --- Basket ---
const basket = {
  x: canvas.width / 2 - 40,
  y: canvas.height - 40,
  width: 80,
  height: 20,
  speed: 6,
  movingLeft: false,
  movingRight: false,
};

// --- Star Types ---
const starTypes = [
  { color: "yellow", points: 1 },
  { color: "cyan", points: 5 },
  { color: "red", points: -3 },
];

// --- Sounds ---
const catchSound = new Audio("https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg");
const missSound = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");
const bgMusic = new Audio("https://cdn.pixabay.com/audio/2022/03/15/audio_78b8217330.mp3");
bgMusic.loop = true;
bgMusic.volume = 0.4;

// --- Initialize Game ---
function initGame() {
  score = 0;
  lives = 3;
  level = 1;
  stars = [];
  particles = [];
  gameSpeed = 2;
  spawnRate = 0.02;
  gameRunning = true;
  gameOverScreen.style.display = "none";
  gameOverScreen.style.opacity = 0;
  hud.innerText = `Score: ${score} | Lives: ${lives} | Level: ${level}`;
  bgMusic.currentTime = 0;
  bgMusic.play();
  gameLoop();
}

// --- Create Star ---
function createStar() {
  const type = starTypes[Math.floor(Math.random() * starTypes.length)];
  const x = Math.random() * (canvas.width - 20);
  stars.push({ x, y: 0, color: type.color, points: type.points });
}

// --- Create Particle Explosion ---
function createParticles(x, y, color) {
  for (let i = 0; i < 10; i++) {
    particles.push({
      x,
      y,
      radius: Math.random() * 3 + 1,
      color,
      speedX: (Math.random() - 0.5) * 3,
      speedY: (Math.random() - 0.5) * 3,
      life: 30,
    });
  }
}

// --- Update Particles ---
function updateParticles() {
  for (let i = particles.length - 1; i >= 0; i--) {
    const p = particles[i];
    p.x += p.speedX;
    p.y += p.speedY;
    p.life--;
    if (p.life <= 0) particles.splice(i, 1);
  }
}

// --- Draw Particles ---
function drawParticles() {
  particles.forEach((p) => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
    ctx.fillStyle = p.color;
    ctx.fill();
  });
}

// --- Draw Stars ---
function drawStars() {
  stars.forEach((star) => {
    ctx.beginPath();
    ctx.arc(star.x + 10, star.y + 10, 10, 0, Math.PI * 2);
    ctx.fillStyle = star.color;
    ctx.shadowBlur = 10;
    ctx.shadowColor = star.color;
    ctx.fill();
    ctx.shadowBlur = 0;
  });
}

// --- Draw Basket ---
function drawBasket() {
  ctx.fillStyle = "#00ff88";
  ctx.fillRect(basket.x, basket.y, basket.width, basket.height);
}

// --- Move Basket ---
function moveBasket() {
  if (basket.movingLeft && basket.x > 0) basket.x -= basket.speed;
  if (basket.movingRight && basket.x + basket.width < canvas.width)
    basket.x += basket.speed;
}

// --- Update Stars ---
function updateStars() {
  for (let i = stars.length - 1; i >= 0; i--) {
    stars[i].y += gameSpeed;

    // Catch star
    if (
      stars[i].y + 20 >= basket.y &&
      stars[i].x + 20 > basket.x &&
      stars[i].x < basket.x + basket.width
    ) {
      if (stars[i].points > 0) catchSound.play();
      else missSound.play();

      score += stars[i].points;
      if (score < 0) score = 0;
      createParticles(stars[i].x, stars[i].y, stars[i].color);
      if (stars[i].points < 0) lives--;

      stars.splice(i, 1);
      updateHUD();
      checkGameStatus();
      continue;
    }

    // Missed good star
    if (stars[i].y > canvas.height) {
      if (stars[i].points > 0) {
        lives--;
        missSound.play();
        createParticles(stars[i].x, stars[i].y, "white");
        updateHUD();
        checkGameStatus();
      }
      stars.splice(i, 1);
    }
  }
}

// --- Draw Background Stars ---
function drawBackgroundStars() {
  for (let i = 0; i < 40; i++) {
    ctx.fillStyle = `rgba(255,255,255,${Math.random()})`;
    ctx.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, 2, 2);
  }
}

// --- Update HUD ---
function updateHUD() {
  hud.innerText = `Score: ${score} | Lives: ${lives} | Level: ${level}`;
}

// --- Check Level / Game Over ---
function checkGameStatus() {
  if (lives <= 0) endGame();
  if (score >= level * 20) {
    level++;
    gameSpeed += 0.5;
    spawnRate += 0.005;
    updateHUD();
  }
}

// --- End Game ---
function endGame() {
  gameRunning = false;
  bgMusic.pause();
  gameOverScreen.style.display = "block";
  setTimeout(() => (gameOverScreen.style.opacity = 1), 50);
  finalScoreEl.innerText = `Your final score: ${score}`;
}

// --- Controls ---
document.addEventListener("keydown", (e) => {
  if (e.key === "ArrowLeft") basket.movingLeft = true;
  if (e.key === "ArrowRight") basket.movingRight = true;
});
document.addEventListener("keyup", (e) => {
  if (e.key === "ArrowLeft") basket.movingLeft = false;
  if (e.key === "ArrowRight") basket.movingRight = false;
});

// --- Restart Button ---
restartBtn.addEventListener("click", initGame);

// --- Game Loop ---
function gameLoop() {
  if (!gameRunning) return;
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawBackgroundStars();

  if (Math.random() < spawnRate) createStar();
  moveBasket();
  updateStars();
  updateParticles();
  drawParticles();
  drawStars();
  drawBasket();

  requestAnimationFrame(gameLoop);
}

// Start game
initGame();

</script>
</body>
</html>
